"use strict";(self["webpackChunkvueproject3"]=self["webpackChunkvueproject3"]||[]).push([[940],{6940:function(t,e,o){o.r(e),o.d(e,{default:function(){return g}});var i=o(6768),s=o(4232),a=o(5130);const r={class:"form-control"},n={for:"email"},l={class:"form-control"},d={for:"password"},u={key:0};function h(t,e,o,h,m,c){const p=(0,i.g2)("base-dialog"),g=(0,i.g2)("base-spinner"),b=(0,i.g2)("base-button"),f=(0,i.g2)("base-card");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(p,{show:!!m.error,title:"An error occured",onClose:c.handleError},{default:(0,i.k6)(()=>[(0,i.Lk)("p",null,(0,s.v_)(m.error),1)]),_:1},8,["show","onClose"]),(0,i.bF)(p,{show:m.isLoading,title:"Authenticating",fixed:""},{default:(0,i.k6)(()=>[(0,i.bF)(g)]),_:1},8,["show"]),(0,i.bF)(f,null,{default:(0,i.k6)(()=>[(0,i.Lk)("form",{onSubmit:e[2]||(e[2]=(0,a.D$)((...t)=>c.submitForm&&c.submitForm(...t),["prevent"]))},[(0,i.Lk)("div",r,[(0,i.Lk)("label",n,[e[3]||(e[3]=(0,i.eW)("Email ",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>m.email=t)},null,512),[[a.Jo,m.email,void 0,{trim:!0}]])])]),(0,i.Lk)("div",l,[(0,i.Lk)("label",d,[e[4]||(e[4]=(0,i.eW)("Password ",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>m.password=t)},null,512),[[a.Jo,m.password,void 0,{trim:!0}]])])]),m.formIsValid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("p",u," Please enter a valid email and password(must be at least 6 characters long). ")),(0,i.bF)(b,null,{default:(0,i.k6)(()=>[(0,i.eW)((0,s.v_)(c.submitButtonCaption),1)]),_:1}),(0,i.bF)(b,{type:"button",mode:"flat",onClick:c.switchAuthMode},{default:(0,i.k6)(()=>[(0,i.eW)((0,s.v_)(c.switchModeButtonCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var m={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const e=`/${this.$route.query.redirect||"coaches"}`;this.$router.replace(e)}catch(e){this.error=e.messsage||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},c=o(1241);const p=(0,c.A)(m,[["render",h],["__scopeId","data-v-faf59364"]]);var g=p}}]);
//# sourceMappingURL=940.0d448ec1.js.map