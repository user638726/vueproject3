{"version":3,"file":"js/940.0d448ec1.js","mappings":"6MAUaA,MAAM,gB,GACFC,IAAI,S,GAMRD,MAAM,gB,GACFC,IAAI,Y,iKAjBnBC,EAAAA,EAAAA,IA+BM,aA9BJC,EAAAA,EAAAA,IAEcC,EAAA,CAFAC,OAAQC,EAAAC,MAAOC,MAAM,mBAAoBC,QAAOC,EAAAC,a,kBAC5D,IAAkB,EAAlBC,EAAAA,EAAAA,IAAkB,UAAAC,EAAAA,EAAAA,IAAZP,EAAAC,OAAK,K,4BAEbJ,EAAAA,EAAAA,IAEcC,EAAA,CAFAC,KAAMC,EAAAQ,UAAWN,MAAM,iBAAiBO,MAAA,I,kBACpD,IAA6B,EAA7BZ,EAAAA,EAAAA,IAA6Ba,K,kBAE/Bb,EAAAA,EAAAA,IAuBYc,EAAA,M,iBAtBV,IAqBO,EArBPL,EAAAA,EAAAA,IAqBO,QArBAM,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,IAAA,IAAAC,IAAUX,EAAAY,YAAAZ,EAAAY,cAAAD,GAAU,e,EAC/BT,EAAAA,EAAAA,IAKM,MALNW,EAKM,EAJJX,EAAAA,EAAAA,IAGQ,QAHRY,EAGQ,C,qBAFL,UACD,K,SAAAZ,EAAAA,EAAAA,IAAsD,SAA/Ca,KAAK,QAAQC,GAAG,Q,qCAAsBpB,EAAAqB,MAAKC,I,iBAALtB,EAAAqB,W,GAANE,MAAR,WAInCjB,EAAAA,EAAAA,IAKM,MALNkB,EAKM,EAJJlB,EAAAA,EAAAA,IAGQ,QAHRmB,EAGQ,C,qBAFL,aACD,K,SAAAnB,EAAAA,EAAAA,IAA+D,SAAxDa,KAAK,WAAWC,GAAG,W,qCAAyBpB,EAAA0B,SAAQJ,I,iBAARtB,EAAA0B,c,GAANH,MAAR,UAG/BvB,EAAA2B,a,4BAAV/B,EAAAA,EAAAA,IAEI,IAAAgC,EAFmB,oFAGvB/B,EAAAA,EAAAA,IAAoDgC,EAAA,M,iBAAvC,IAAyB,E,iBAAtBzB,EAAA0B,qBAAmB,K,OACnCjC,EAAAA,EAAAA,IAEgBgC,EAAA,CAFHV,KAAK,SAASY,KAAK,OAAQC,QAAO5B,EAAA6B,gB,kBAAgB,IAE7D,E,iBADA7B,EAAA8B,yBAAuB,K,mCAQjC,OACEC,IAAAA,GACE,MAAO,CACLd,MAAO,GACPK,SAAU,GACVC,aAAa,EACbI,KAAM,QACNvB,WAAW,EACXP,MAAO,KAEX,EACAmC,SAAU,CACRN,mBAAAA,GACE,MAAkB,UAAdO,KAAKN,KACA,QAEF,QACT,EACAG,uBAAAA,GACE,MAAkB,UAAdG,KAAKN,KACA,iBAEF,eACT,GAEFO,QAAS,CACP,gBAAMtB,GAEJ,GADAqB,KAAKV,aAAc,EACA,KAAfU,KAAKhB,QAAiBgB,KAAKhB,MAAMkB,SAAS,MAAQF,KAAKX,SAASc,OAAS,EAE3E,YADAH,KAAKV,aAAc,GAGrBU,KAAK7B,WAAY,EACjB,MAAMiC,EAAgB,CACpBpB,MAAOgB,KAAKhB,MACZK,SAAUW,KAAKX,UAEjB,IACoB,UAAdW,KAAKN,WACDM,KAAKK,OAAOC,SAAS,QAASF,SAE9BJ,KAAKK,OAAOC,SAAS,SAAUF,GAEvC,MAAMG,EAAc,IAAIP,KAAKQ,OAAOC,MAAMC,UAAY,YACtDV,KAAKW,QAAQC,QAAQL,EACvB,CAAE,MAAOM,GACPb,KAAKpC,MAAQiD,EAAIC,UAAY,oCAC/B,CAEAd,KAAK7B,WAAY,CACnB,EACAyB,cAAAA,GACoB,UAAdI,KAAKN,KACPM,KAAKN,KAAO,SAEZM,KAAKN,KAAO,OAEhB,EACA1B,WAAAA,GACEgC,KAAKpC,MAAQ,IACf,I,UCzFJ,MAAMmD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vueproject3/./src/pages/auth/UserAuth.vue","webpack://vueproject3/./src/pages/auth/UserAuth.vue?a517"],"sourcesContent":["<template>\n  <div>\n    <base-dialog :show=\"!!error\" title=\"An error occured\" @close=\"handleError\">\n      <p>{{ error }}</p>\n    </base-dialog>\n    <base-dialog :show=\"isLoading\" title=\"Authenticating\" fixed>\n      <base-spinner></base-spinner>\n    </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\"\n            >Email\n            <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n          </label>\n        </div>\n\n        <div class=\"form-control\">\n          <label for=\"password\"\n            >Password\n            <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n          </label>\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter a valid email and password(must be at least 6 characters long).\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\n          switchModeButtonCaption\n        }}</base-button>\n      </form>\n    </base-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      formIsValid: true,\n      mode: 'login',\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Login';\n      }\n      return 'Signup';\n    },\n    switchModeButtonCaption() {\n      if (this.mode === 'login') {\n        return 'Signup instead';\n      }\n      return 'Login instead';\n    },\n  },\n  methods: {\n    async submitForm() {\n      this.formIsValid = true;\n      if (this.email === '' || !this.email.includes('@') || this.password.length < 6) {\n        this.formIsValid = false;\n        return;\n      }\n      this.isLoading = true;\n      const actionPayload = {\n        email: this.email,\n        password: this.password,\n      };\n      try {\n        if (this.mode === 'login') {\n          await this.$store.dispatch('login', actionPayload);\n        } else {\n          await this.$store.dispatch('signup', actionPayload);\n        }\n        const redirectUrl = `/${this.$route.query.redirect || 'coaches'}`;\n        this.$router.replace(redirectUrl);\n      } catch (err) {\n        this.error = err.messsage || 'Failed to authenticate, try later.';\n      }\n\n      this.isLoading = false;\n    },\n    switchAuthMode() {\n      if (this.mode === 'login') {\n        this.mode = 'signup';\n      } else {\n        this.mode = 'login';\n      }\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n","import { render } from \"./UserAuth.vue?vue&type=template&id=faf59364&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=faf59364&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-faf59364\"]])\n\nexport default __exports__"],"names":["class","for","_createElementBlock","_createVNode","_component_base_dialog","show","$data","error","title","onClose","$options","handleError","_createElementVNode","_toDisplayString","isLoading","fixed","_component_base_spinner","_component_base_card","onSubmit","_cache","_withModifiers","args","submitForm","_hoisted_1","_hoisted_2","type","id","email","$event","trim","_hoisted_3","_hoisted_4","password","formIsValid","_hoisted_5","_component_base_button","submitButtonCaption","mode","onClick","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","err","messsage","__exports__","render"],"ignoreList":[],"sourceRoot":""}