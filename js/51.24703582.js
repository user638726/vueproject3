"use strict";(self["webpackChunkvueproject3"]=self["webpackChunkvueproject3"]||[]).push([[51],{4051:function(e,s,t){t.r(s),t.d(s,{default:function(){return k}});var r=t(6768),u=t(4232);const a={key:1},n={key:2};function i(e,s,t,i,l,o){const d=(0,r.g2)("base-dialog"),c=(0,r.g2)("base-spinner"),h=(0,r.g2)("request-item"),m=(0,r.g2)("base-card");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(d,{show:!!l.error,title:"An error occurred!",onClose:o.handleError},{default:(0,r.k6)(()=>[(0,r.Lk)("p",null,(0,u.v_)(l.error),1)]),_:1},8,["show","onClose"]),(0,r.Lk)("section",null,[(0,r.bF)(m,null,{default:(0,r.k6)(()=>[s[0]||(s[0]=(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,"Requests Received")],-1)),l.isLoading?((0,r.uX)(),(0,r.Wv)(c,{key:0})):o.hasRequests&&!l.isLoading?((0,r.uX)(),(0,r.CE)("ul",a,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.receivedRequests,e=>((0,r.uX)(),(0,r.Wv)(h,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"]))),128))])):((0,r.uX)(),(0,r.CE)("h3",n,"You haven't received any requests yet"))]),_:1})])])}const l=["href"];function o(e,s,t,a,n,i){return(0,r.uX)(),(0,r.CE)("li",null,[(0,r.Lk)("div",null,[(0,r.Lk)("a",{href:i.emailLink},(0,u.v_)(t.email),9,l)]),(0,r.Lk)("p",null,(0,u.v_)(t.message),1)])}var d={props:["email","message"],computed:{emailLink(){return`mailto:${this.email}`}}},c=t(1241);const h=(0,c.A)(d,[["render",o],["__scopeId","data-v-3f81a94e"]]);var m=h,v={components:{RequestItem:m},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequests()},methods:{async loadRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something failed"}this.isLoading=!1},handleError(){this.error=null}}};const g=(0,c.A)(v,[["render",i],["__scopeId","data-v-809fd6d2"]]);var k=g}}]);
//# sourceMappingURL=51.24703582.js.map